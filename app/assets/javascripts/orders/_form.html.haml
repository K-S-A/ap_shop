%form{name: "orderForm", role: "form", novalidate: true, data: {ng_submit: "addOrder()"}}
  .btn-group.btn-group-justified
    .btn-group
      %button.btn.btn-default{type: "button", data: {ui_sref: "textiles"}} Close Form
    .btn-group
      %button.btn.btn-info{type: "button", data: {ng_click: "resetForm()"}} Reset Form
    .btn-group
      %button.btn.btn-success{type: "submit", data: {ng_disabled: "orderForm.$invalid"}} Place Order
  .row
    .col-xs-3
      .form-group.has-feedback{'show-validation': true}
        %label{for: "number"} Order Number:
        %input.form-control{name: "number", type: "text", placeholder: "Number", required: true, data: {ng_model: "order.number", ng_change: "order.number = order.number.toLowerCase()"}}/
        %span.form-control-feedback.glyphicon
    .col-xs-3
      .form-group.has-feedback{'show-validation': true}
        %label{for: "order_date"} Order Date:
        %input.form-control{name: "order_date", type: "text", placeholder: "Order Date (dd-mm-yyyy)", required: true, data: {ng_model: "order.order_date"}}/
        %span.form-control-feedback.glyphicon
    .col-xs-6
      .form-group.has-feedback{'show-validation': true}
        %label{for: "customer"} Customer:
        %input.form-control{name: "customer", type: "text", placeholder: "Customer's Name", required: true, autofocus: true, data: {ng_model: "order.customer"}}/
        %span.form-control-feedback.glyphicon
  .row
    .col-xs-6
      .form-group
        %label{for: "order_comment"} Comment:
        %textarea.form-control{name: "order_comment", type: "text", rows: "4", style: "resize: none;", placeholder: "Comments goes here ...", data: {ng_model: "order.order_comment"}}
    .col-xs-3
      .form-group.has-feedback{'show-validation': true}
        %label{for: "customer_phone"} Phone Number:
        %input.form-control{name: "customer_phone", type: "text", placeholder: "Customer's Phone Number", data: {ng_model: "order.customer_phone"}}/
        %span.form-control-feedback.glyphicon
    .col-xs-3
      .form-group{'show-validation': true}
        %label{for: "status"} Status:
        %select.form-control.text-capitalize{name: "status", data: {ng_model: "order.status", ng_options: "status for status in statuses"}}
    .col-xs-2
      .form-group.has-feedback{'show-validation': true}
        %label{for: "prepay"} Prepay Amount (UAH):
        %input.form-control{name: "prepay", type: "number", min: "0", placeholder: "Prepay Amount (eq. UAH 100.00)", data: {ng_model: "order.prepay", ng_blur: "order.prepay > 0 ? order.status = 'prepaid' : ''"}}/
        %span.form-control-feedback.glyphicon
    .col-xs-2
      .form-group.has-feedback{'show-validation': true}
        %label{for: "discount"} Discount (UAH):
        %input.form-control{name: "discount", type: "number", min: "0", placeholder: "Discount Amount (in UAH, eq. 100.00)", data: {ng_model: "order.discount", ng_change: "checkDiscount()"}}/
        %span.form-control-feedback.glyphicon
    .col-xs-2
      .form-group
        %label Total Amount:
        %b
          %p.form-control-static {{total | currency : 'UAH ' : 2}}
  .btn-group.btn-group-justified{data: {ng_if: "addForm.visible"}}
    .btn-group
      %button.btn.btn-lg.btn-primary{type: "button", data: {ng_click: "addForm.visible = false"}} Close Add Form
  .btn-group.btn-group-justified{data: {ng_if: "!addForm.visible"}}
    .btn-group
      %button.btn.btn-lg.btn-primary{type: "button", data: {ng_click: "addItem()"}} Add Item
    .btn-group{data: {ng_if: "order.order_items.length > 0"}}
      %button.btn.btn-lg.btn-warning{type: "button", data: {ng_click: "removeItem()"}} Remove Selected
    .btn-group{data: {ng_if: "order.order_items.length > 0"}}
      %button.btn.btn-lg.btn-danger{type: "button", data: {ng_click: "clearItems()"}} Remove All
  .row.list-group
    .col-xs-12
      .list-group-item{data: {ng_include: "'order_items/_order_item.html'", ng_repeat: "order_item in order.order_items"}}
%ui-view{name: "searchForm", data: {ng_if: "addForm.visible"}}
